

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developer’s Guide &mdash; ngEHTforecast 1.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/ngeht_blue2.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="ngEHTforecast 1.1 documentation" href="../../index.html"/>
        <link rel="next" title="Examples" href="examples.html"/>
        <link rel="prev" title="Data" href="data.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ngEHTforecast
          

          
            
            <img src="../../_static/ngEHTforecast_logo_transparent.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">User’s Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-the-latest-version">Getting the latest version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scope-and-goals">Scope and goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backward-compatibility">Backward compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="#portability">Portability</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documenting-with-autodoc">Documenting with autodoc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Validation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ngEHTforecast</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Developer’s Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/src/devel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developer-s-guide">
<h1>Developer’s Guide<a class="headerlink" href="#developer-s-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-the-latest-version">
<h2>Getting the latest version<a class="headerlink" href="#getting-the-latest-version" title="Permalink to this headline">¶</a></h2>
<p>The latest version of ngEHTforecast can be obtained from <a class="reference external" href="https://github.com/aeb/ngEHTforecast">https://github.com/aeb/ngEHTforecast</a>.</p>
<p>ngEHTforecast uses the <a class="reference external" href="https://danielkummer.github.io/git-flow-cheatsheet/">git-flow</a> extensions to facilitate development. As a result, there are a number of branches that you may see in the git repository:</p>
<ul class="simple">
<li><p><cite>master</cite>: The latest stable release, generated from develop. This branch contains well-tested code, is rarely updated, and therefore is usually what a typical user wants.</p></li>
<li><p><cite>develop</cite>: The current version under development, where the latest new functionality may be found.  This is periodically merged into master, generating releases. This will be updated continually and is not guaranteed to be stable.</p></li>
<li><p><cite>feature</cite> branches: Branches in which specific new functionality can be developed, tested, and validated, prior to merging into develop.  In principle, every new code feature will have its origin in a <cite>feature</cite> branch.</p></li>
<li><p><cite>release</cite> branches: Ephemeral intermediate branches used to stage new releases.</p></li>
<li><p><cite>hotfix</cite> branches: Branches containing bug fixes to published releases.</p></li>
</ul>
<p>Most users will want to use <cite>master</cite>, some may want to use <cite>develop</cite> at the expense of stability, and only developers will want to use the remainder.</p>
</div>
<div class="section" id="scope-and-goals">
<h2>Scope and goals<a class="headerlink" href="#scope-and-goals" title="Permalink to this headline">¶</a></h2>
<p>ngEHTforecast seeks to collect and distribute tools for performing science forecasts
for the <a class="reference external" href="https://www.ngeht.org">ngEHT</a>.  It is dependent on the ability to specify an observation (i.e., a
UVFITS file), and is therefore closely integrated with the existing software infrastructure
for performing data simulation.</p>
</div>
<div class="section" id="backward-compatibility">
<h2>Backward compatibility<a class="headerlink" href="#backward-compatibility" title="Permalink to this headline">¶</a></h2>
<p>ngEHTforecast follows the <a class="reference external" href="https://semver.org/">Semantic Versioning 2.0</a> versioning system.</p>
</div>
<div class="section" id="portability">
<h2>Portability<a class="headerlink" href="#portability" title="Permalink to this headline">¶</a></h2>
<p>ngEHTforecast aspires to be as universally portable as possible.  While library
interdependencies are neither unavoidable nor always undesirable, and ngEHTforecast does
depend on <a class="reference external" href="https://numpy.org">Numpy</a>, <a class="reference external" href="https://scipy.org">SciPy</a>, <a class="reference external" href="https://matplotlib.org">Matplotlib</a>, and <a class="reference external" href="https://achael.github.io/eht-imaging/">ehtim</a>, such dependencies should be kept to a
minimum.  No absolute rules are possible for this.  Nevertheless:</p>
<ol class="arabic simple">
<li><p>Consider if additional libraries are required, or if the goal can be
achieved within the confines existing dependencies.</p></li>
<li><p>Where additional libraries are required to enable specific functionality
consider wrapping the necessary import statements in <code class="docutils literal notranslate"><span class="pre">try</span></code>, <code class="docutils literal notranslate"><span class="pre">except</span></code>
blocks with warnings.</p></li>
</ol>
<p>For example, imagine that the python package foo is not included as a dependency, though
some functionality is dependent upon it.  In source files where such functions are present,
the following import block should be included,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">foo</span>
    <span class="n">foo_found</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;foo not found.&quot;</span><span class="p">,</span> <span class="ne">Warning</span><span class="p">)</span>
    <span class="n">foo_found</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>with attendant checks around the functions themselves.</p>
</div>
<div class="section" id="documenting-with-autodoc">
<h2>Documenting with autodoc<a class="headerlink" href="#documenting-with-autodoc" title="Permalink to this headline">¶</a></h2>
<p>All components should be documented with python docstrings that clearly specify the
purpose, function, inputs and outputs (if any).  For example, a new function might
be documented as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="p">:</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This function is an example.</span>

<span class="sd">Args:</span>
<span class="sd">  - x (float): A first parameter.</span>
<span class="sd">  - y (float): A second parameter.</span>

<span class="sd">Returns:</span>
<span class="sd">  - (float): The sum of the two inputs.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
</pre></div>
</div>
<p>If types are specified, they will be crosslinked with the relevant source documentation.</p>
<p>Mathematical espressions can be included inline using the <code class="docutils literal notranslate"><span class="pre">:math:</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">:math:`x^2+y^2+\\alpha`</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>and in displaystyle via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. math::</span>

<span class="sd">   f(x) = \\int_0^\\infty dx \\frac{\\cos(x^2)}{1+g(x)}</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>AMSmath LaTex directives can be inserted, though escape characters must be
escaped themselves if they are imported via autodoc (i.e., the <code class="docutils literal notranslate"><span class="pre">\\</span></code> in <code class="docutils literal notranslate"><span class="pre">\\alpha</span></code>).</p>
<p>Autodoc directives for new module files must be added to the appropriate documentation
file in docs/src, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">automodule</span><span class="p">::</span> <span class="n">fisher</span><span class="o">.</span><span class="n">fisher_forecast</span>
<span class="p">:</span><span class="n">members</span><span class="p">:</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n">Next →</a>
      
      
        <a href="data.html" class="btn btn-neutral" title="Data" accesskey="p">← Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Avery E. Broderick.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            LINK_SUFFIX:'.html', 
            HAS_SOURCE: 'true'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>